window.__require=function t(e,o,n){function r(i,s){if(!o[i]){if(!e[i]){var a=i.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+i+"'")}i=a}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return r(e[i][1][t]||t)},l,l.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({BridgeEndScript:[function(t,e,o){"use strict";cc._RF.push(e,"6154cKqvoBEd5glvf6TSyKx","BridgeEndScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./FinishScript"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.finishPrefab=null,e.startGround=null,e.player=null,e.nextGround=null,e.centerOfNextGround=null,e._parametersIsSeted=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this._parametersIsSeted=!1,cc.systemEvent.on("GetParameters",function(e,o,n){t.startGround=e,t.nextGround=o,t.centerOfNextGround=o.children[0],t.player=n,t._parametersIsSeted=!0},this)},e.prototype.update=function(){if(this._parametersIsSeted&&-90==this.node.parent.angle){if(console.log(),cc.Intersection.rectRect(this.node.getBoundingBoxToWorld(),this.centerOfNextGround.getBoundingBoxToWorld()))return console.log("\u042f \u0442\u0440\u043e\u0433\u0430\u043b \u0446\u0435\u043d\u0442\u0440"),this.spawnFinish(),cc.systemEvent.emit("AddScore"),void(this._parametersIsSeted=!1);if(cc.Intersection.rectRect(this.node.getBoundingBoxToWorld(),this.nextGround.getBoundingBox()))this.spawnFinish(),this._parametersIsSeted=!1;else if(cc.Intersection.rectRect(this.node.getBoundingBoxToWorld(),this.player.getBoundingBox())){if(this.node.convertToWorldSpaceAR(cc.v2(0,0)).x>this.nextGround.x){var t=this.node.parent.position.x+this.node.parent.height*this.node.parent.scaleY+5;cc.systemEvent.emit("LoseListening",t,!1)}else cc.systemEvent.emit("LoseListening",this.node.position.x+5,!0);return void(this._parametersIsSeted=!1)}}},e.prototype.spawnFinish=function(){var t=cc.instantiate(this.finishPrefab);t.setPosition(this.nextGround.position.x+10,200),cc.director.getScene().addChild(t);var e=t.addComponent(i.default);e.setNextIslandNodes(this.nextGround,this.player),e.setStartIslandNodes(this.startGround,this.node.parent)},c([p(cc.Prefab)],e.prototype,"finishPrefab",void 0),c([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./FinishScript":"FinishScript"}],BridgeScript:[function(t,e,o){"use strict";cc._RF.push(e,"cbcb0cUygtFzIYsD9qexkYI","BridgeScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bridge=null,e.playerCanvas=null,e._isGrowing=!1,e._inRotation=!1,e._inFalling=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on("LoseListening",function(e,o){t._inFalling=o},cc.director.getScene())},e.prototype.setParameters=function(t,e){this.playerCanvas=t,this.bridge=e,this.playerCanvas.on(cc.Node.EventType.TOUCH_START,this.bridgeGrow,this),this.playerCanvas.on(cc.Node.EventType.TOUCH_CANCEL,this.bridgeFall,this),this.playerCanvas.on(cc.Node.EventType.TOUCH_END,this.bridgeFall,this)},e.prototype.bridgeGrow=function(){this._isGrowing=!0},e.prototype.bridgeFall=function(){this.playerCanvas.off(cc.Node.EventType.TOUCH_START,this.bridgeGrow,this),this.playerCanvas.off(cc.Node.EventType.TOUCH_CANCEL,this.bridgeFall,this),this.playerCanvas.off(cc.Node.EventType.TOUCH_END,this.bridgeFall,this),this._isGrowing=!1,this._inRotation=!0,this.scheduleOnce(function(){cc.systemEvent.emit("CanMove")},.5)},e.prototype.update=function(){this._isGrowing?(this.bridge.scaleY+=.01,this.bridge.scaleY>=.95&&(this._isGrowing=!1,this.playerCanvas.off(cc.Node.EventType.TOUCH_CANCEL,this.bridgeFall,this),this.playerCanvas.off(cc.Node.EventType.TOUCH_END,this.bridgeFall,this),this.bridgeFall())):this._inRotation?this.bridge.angle>-90?this.bridge.angle-=5:this._inRotation=!1:this._inFalling&&(this.bridge.angle>-180?this.bridge.angle-=5:this._inFalling=!1)},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],DrinkScript:[function(t,e,o){"use strict";cc._RF.push(e,"322f7O+A3xFWrJF6SI2ZA+i","DrinkScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e}return r(e,t),e.prototype.setPlayer=function(t){this.player=t},e.prototype.onLoad=function(){var t=this;cc.systemEvent.on("FinishReached",function(){t.node.destroy()},this)},e.prototype.update=function(){cc.Intersection.rectRect(this.node.getBoundingBox(),this.player.getBoundingBox())&&(cc.systemEvent.emit("AddScore"),this.node.destroy())},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],DrinksSpawner:[function(t,e,o){"use strict";cc._RF.push(e,"aa36ctIM2NGPKPH5/FoUQGS","DrinksSpawner");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./DrinkScript"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startGround=null,e.finishGround=null,e.player=null,e.drinkPrefab=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on("GetParameters",function(e,o,n){t.startGround=e,t.finishGround=o,t.player=n,t.spawnRandomCountDrinks()},this)},e.prototype.spawnRandomCountDrinks=function(){var t=this.getRandomInt(0,2);if(0!=t)for(;t>0;)this.spawnDrink(),t--},e.prototype.spawnDrink=function(){var t=cc.instantiate(this.drinkPrefab);cc.director.getScene().addChild(t),0==this.getRandomInt(0,1)&&(t.y=135);var e=this.startGround.x+this.startGround.scaleX*this.startGround.width/2+10,o=this.finishGround.x-this.finishGround.scaleX*this.finishGround.width/2-10;t.x=this.getRandomInt(e,o),t.getComponent(i.default).setPlayer(this.player)},e.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},c([p(cc.Prefab)],e.prototype,"drinkPrefab",void 0),c([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./DrinkScript":"DrinkScript"}],FinishScript:[function(t,e,o){"use strict";cc._RF.push(e,"ccd5ccWKA9MGZVUk0KhjWN4","FinishScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.nextGround=null,e.startGround=null,e.startBridge=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setStartIslandNodes=function(t,e){this.startBridge=e,this.startGround=t},e.prototype.setNextIslandNodes=function(t,e){this.nextGround=t,this.player=e},e.prototype.update=function(){cc.Intersection.rectRect(this.player.getBoundingBox(),this.node.getBoundingBox())&&(cc.systemEvent.emit("FinishReached",this.nextGround,this),cc.systemEvent.emit("AddScore",this),this.startBridge.destroy(),this.startGround.destroy(),this.node.destroy())},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],GameStarter:[function(t,e,o){"use strict";cc._RF.push(e,"d1568g1FhVGDLJWpEkYXHD7","GameStarter");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startButton=null,e}return r(e,t),e.prototype.onLoad=function(){this.startButton.on("click",function(){cc.director.loadScene("GameScene")},this)},c([a(cc.Node)],e.prototype,"startButton",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],GroundSpawnerScript:[function(t,e,o){"use strict";cc._RF.push(e,"5d46fPHKO9J45SEOBweQu1d","GroundSpawnerScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BridgeScript"),s=t("./StateChangerLocker"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.groundPrefab=null,e.bridgePrefab=null,e.playerCanvas=null,e.startGround=null,e.startBridge=null,e}return r(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(this.createSpawn,0),this.scheduleOnce(this.spawnFunction,0),cc.systemEvent.off("SetNewStart",null,this),cc.systemEvent.on("SetNewStart",function(e){t.startGround=e,t.spawnBridge(t.startGround),t.spawnFunction()},this)},e.prototype.createSpawn=function(){var t=cc.instantiate(this.groundPrefab);t.scaleX=.1,t.scaleY=this.getRandomFloat(.1,.2),t.setPosition(12,110),cc.director.getScene().addChild(t),t.getComponent(cc.PhysicsBoxCollider).apply,this.startGround=t,this.spawnBridge(t)},e.prototype.spawnFunction=function(){var t=cc.instantiate(this.groundPrefab),e=cc.view.getVisibleSize();t.scaleX=.1,t.scaleY=this.getRandomFloat(.1,.3),t.setPosition(e.width-t.width*t.scaleX,110),cc.director.getScene().addChild(t),t.getComponent(cc.PhysicsBoxCollider).apply,cc.systemEvent.emit("GetParameters",this.startGround,t,this.player),t.children[2].addComponent(s.default).setPlayer(this.player)},e.prototype.spawnBridge=function(t){var e=cc.instantiate(this.bridgePrefab);cc.director.getScene().addChild(e),e.setPosition(t.children[1].convertToWorldSpaceAR(cc.v2(0,0)).x,152),e.addComponent(i.default).setParameters(this.playerCanvas,e),this.startBridge=e},e.prototype.getRandomFloat=function(t,e){return Math.random()*(e-t)+t},c([l(cc.Node)],e.prototype,"player",void 0),c([l(cc.Prefab)],e.prototype,"groundPrefab",void 0),c([l(cc.Prefab)],e.prototype,"bridgePrefab",void 0),c([l(cc.Node)],e.prototype,"playerCanvas",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./BridgeScript":"BridgeScript","./StateChangerLocker":"StateChangerLocker"}],PersonMoveScript:[function(t,e,o){"use strict";cc._RF.push(e,"4dfc6DZKpdK55j0bC4nVUvb","PersonMoveScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerCanvas=null,e.bridgeEnd=null,e.rg=null,e._inMovement=!1,e._checkIsFalling=!1,e._inOtherState=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.loadPlayerSkin(),this.rg=this.node.getComponent(cc.RigidBody),this._inMovement=!1,cc.systemEvent.on("CanMove",function(){t._inMovement=!0,t.playerCanvas.on(cc.Node.EventType.TOUCH_START,t.changePlayerState,t)},this),cc.systemEvent.on("FinishReached",function(){t._inMovement=!1},this),cc.systemEvent.on("BlockState",function(){t._inOtherState&&t.changePlayerState(),t.playerCanvas.off(cc.Node.EventType.TOUCH_START,t.changePlayerState,t)},this),cc.systemEvent.on("LoseListening",function(e){t.bridgeEnd=e,t._checkIsFalling=!0},this)},e.prototype.loadPlayerSkin=function(){var t=this,e=localStorage.getItem("SavedSkin");cc.loader.loadRes(e,function(e,o){if(e)console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438");else{var n=new cc.SpriteFrame(o);t.node.getComponent(cc.Sprite).spriteFrame=n}})},e.prototype.changePlayerState=function(){this._inOtherState?(this._inOtherState=!1,this.rg.gravityScale=50,this.node.y+=20,this.node.angle=0,this.node.scaleX=.05):(this._inOtherState=!0,this.rg.gravityScale=0,this.node.y-=20,this.node.angle=180,this.node.scaleX=-.05)},e.prototype.update=function(){this._inMovement&&(this.node.setPosition(this.node.position.x+1,this.node.position.y),null!=this.bridgeEnd&&(this.node.x>=this.bridgeEnd?(this._inMovement=!1,this.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200),this.scheduleOnce(function(){cc.systemEvent.emit("Loosing")},0)):this._checkIsFalling&&this.node.y<140&&(this._checkIsFalling=!1,cc.systemEvent.emit("Loosing"))))},c([a(cc.Node)],e.prototype,"playerCanvas",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ProjectSettings:[function(t,e,o){"use strict";cc._RF.push(e,"384bbr+G8NL2K+b2ZmK7r5G","ProjectSettings");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],ResultsWindowScript:[function(t,e,o){"use strict";cc._RF.push(e,"9f98fCuF4RIbLI9ve3ThKbu","ResultsWindowScript");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentScore=null,e.currentRecord=null,e.newRecordTaker=null,e.restartButton=null,e.returnMenuButton=null,e}return r(e,t),e.prototype.start=function(){var t=Number(localStorage.getItem("BestScore"))||0,e=Number(localStorage.getItem("CurrentScore"))||0;this.currentRecord.string=t.toString(),this.currentScore.string=e.toString(),e>t&&(this.newRecordTaker.node.active=!0,localStorage.removeItem("BestScore"),localStorage.setItem("BestScore",e.toString())),this.restartButton.on("click",function(){cc.director.loadScene("GameScene")},this),this.returnMenuButton.on("click",function(){cc.director.loadScene("StartWindow")},this),localStorage.removeItem("CurrentScore")},c([a(cc.Label)],e.prototype,"currentScore",void 0),c([a(cc.Label)],e.prototype,"currentRecord",void 0),c([a(cc.Label)],e.prototype,"newRecordTaker",void 0),c([a(cc.Node)],e.prototype,"restartButton",void 0),c([a(cc.Node)],e.prototype,"returnMenuButton",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SceneController:[function(t,e,o){"use strict";cc._RF.push(e,"3a653Fv9vpMsZ2cUyolqZ6L","SceneController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focusGround=null,e.fadeNode=null,e.thirdLayer=null,e.secondLayer=null,e.firstLayer=null,e.playerObject=null,e._inFocus=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this._inFocus=!1,cc.systemEvent.on("FinishReached",function(e){t.focusGround=e,t._inFocus=!0},this),cc.systemEvent.on("Loosing",function(){t.shakeScreen(),t.scheduleOnce(function(){cc.director.loadScene("ResultsWindow")},3)},this)},e.prototype.shakeScreen=function(t,e){void 0===t&&(t=.5),void 0===e&&(e=10);for(var o=[],n=0;n<20*t;n++){var r=(Math.random()-.5)*e,c=(Math.random()-.5)*e;o.push(cc.moveBy(.05,cc.v2(r,c)))}o.push(cc.moveTo(.1,cc.v2(0,0))),this.node.runAction(cc.sequence.apply(null,o)),this.blackout()},e.prototype.blackout=function(t,e){var o=this;void 0===t&&(t=1),void 0===e&&(e=!0);var n=e?255:0;cc.tween(this.fadeNode).to(t,{opacity:n}).call(function(){e&&o.scheduleOnce(function(){cc.director.loadScene("ResultsWindow")},.5)}).start()},e.prototype.checkLayerOnTheEnd=function(t,e,o){t.x<e&&(t.x=o)},e.prototype.update=function(){this._inFocus&&(this.focusGround.position.x>=this.focusGround.width*this.focusGround.scaleX/4?(this.focusGround.x-=5,this.playerObject.x-=5,this.thirdLayer.x-=.2,this.secondLayer.x-=2,this.firstLayer.x-=1,this.checkLayerOnTheEnd(this.thirdLayer,-300,115),this.checkLayerOnTheEnd(this.secondLayer,-130,130),this.checkLayerOnTheEnd(this.firstLayer,-180,45)):(cc.systemEvent.emit("SetNewStart",this.focusGround),this._inFocus=!1))},c([a(cc.Node)],e.prototype,"fadeNode",void 0),c([a(cc.Node)],e.prototype,"thirdLayer",void 0),c([a(cc.Node)],e.prototype,"secondLayer",void 0),c([a(cc.Node)],e.prototype,"firstLayer",void 0),c([a(cc.Node)],e.prototype,"playerObject",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ScoreController:[function(t,e,o){"use strict";cc._RF.push(e,"36d843GXuVKeIiauk2lF4ag","ScoreController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._score=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){var t=this;o._record=Number(localStorage.getItem("BestScore"))||0,this._score=0,cc.systemEvent.on("AddScore",function(){t._score++,cc.systemEvent.emit("UpdateScoreLabel",t._score)},this),cc.systemEvent.on("Loosing",function(){localStorage.setItem("CurrentScore",t._score.toString())})},e.prototype.start=function(){cc.systemEvent.emit("UpdateScoreLabel",this._score)},e.getPlayerRecord=function(){return this._record},e._record=null,o=c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],StateChangerLocker:[function(t,e,o){"use strict";cc._RF.push(e,"43ea34AO+JHX6R51k5Wkb3n","StateChangerLocker");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e._isReached=!1,e}return r(e,t),e.prototype.setPlayer=function(t){this.player=t,console.log(this.node.name)},e.prototype.update=function(){cc.Intersection.rectRect(this.node.getBoundingBox(),this.player.getBoundingBox())&&!this._isReached&&(cc.systemEvent.emit("BlockState"),this._isReached=!0)},c([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],UISkinsWindow:[function(t,e,o){"use strict";cc._RF.push(e,"9b9a92c8IlELrSkb6kv2WQr","UISkinsWindow");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skin1=null,e.skin2=null,e.skin3=null,e}return r(e,t),e.prototype.enableWindow=function(){this.node.active=!0},e.prototype.onLoad=function(){var t=this;this.skin1.on("touchend",function(){localStorage.setItem("SavedSkin","PngSkins/skin1.png"),t.node.active=!1},this),this.skin2.on("touchend",function(){localStorage.setItem("SavedSkin","PngSkins/skin2.png"),t.node.active=!1},this),this.skin3.on("touchend",function(){localStorage.setItem("SavedSkin","PngSkins/skin3.png"),t.node.active=!1},this)},c([a(cc.Node)],e.prototype,"skin1",void 0),c([a(cc.Node)],e.prototype,"skin2",void 0),c([a(cc.Node)],e.prototype,"skin3",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],UIStartWindow:[function(t,e,o){"use strict";cc._RF.push(e,"c1b3cakmChLfI2Gei0W2lqn","UIStartWindow");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startButton=null,e.nameNode=null,e}return r(e,t),c([a(cc.Node)],e.prototype,"startButton",void 0),c([a(cc.Node)],e.prototype,"nameNode",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],UIUpdater:[function(t,e,o){"use strict";cc._RF.push(e,"55b4aRRu1hEUoRmLK/dITCs","UIUpdater");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../PlayerScripts/ScoreController"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.recordLabel=null,e}return r(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.recordLabel.string=i.default.getPlayerRecord().toString()},0),cc.systemEvent.off("UpdateScoreLabel",function(){},this),cc.systemEvent.on("UpdateScoreLabel",function(e){t.scoreLabel.string=e},this)},c([p(cc.Label)],e.prototype,"scoreLabel",void 0),c([p(cc.Label)],e.prototype,"recordLabel",void 0),c([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../PlayerScripts/ScoreController":"ScoreController"}]},{},["BridgeEndScript","BridgeScript","DrinkScript","DrinksSpawner","FinishScript","GroundSpawnerScript","PersonMoveScript","ScoreController","ProjectSettings","ResultsWindowScript","SceneController","StateChangerLocker","GameStarter","UISkinsWindow","UIStartWindow","UIUpdater"]);